@import com.avicenna.job.JobMgr.{BatchDto, LogDto, JobDto}
@import com.avicenna.security.SecUserDto
@import com.avicenna.template.TmplDto
@import com.avicenna.template.html.TmplMain

@(job : JobDto, batch : BatchDto, logs : List[LogDto], tmpl: TmplDto, user: SecUserDto)

@TmplMain(tmpl, user) {

    <div class="row">

        <div class="@tmpl.getGrid(12)">

            <div class="card">

                <div class="card-title">@job.getJobName - @job.getJobDesc</div>

                <hr/>

                <div class="card-body">

                    <table class="table table-bordered table-striped dataTable" width="100%">

                        <thead>
                            <tr>
                                <th>Date / Time</th>
                                <th>Type</th>
                                <th>Log Message</th>
                            </tr>
                        </thead>

                        <tbody>

                        @for((log, index) <- logs.zipWithIndex){
                            <tr @if(log.isError) { class="bg-danger" }>
                                <td class="text-center">@log.getTimeStamp</td>
                                <td>@if(log.isError) { ERROR } else { INFO } </td>
                                <td>@log.getLog</td>
                            </tr>
                        }

                        </tbody>

                    </table>

                </div>

            </div>

        </div>

    </div>
}