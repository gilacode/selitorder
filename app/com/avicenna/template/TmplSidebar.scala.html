@import com.avicenna.security.SecUserDto
@import com.avicenna.template.TmplDto
@import com.avicenna.nav.NavRegistry._

@(dto: TmplDto, user: SecUserDto)

<div class="scroll-sidebar">

    <nav class="sidebar-nav">

        <ul id="sidebarnav">

            <li class="user-pro mb-3">
                <a class="has-arrow waves-effect waves-dark" href="javascript:void(0)" aria-expanded="false">
                    @if(user.getPhotoUrl==null) {
                        <img src="@routes.Assets.versioned("images/user.png")" alt="user" class="img-circle">
                    } else {
                        <img src="@user.getPhotoUrl" alt="@user.getDisplayName" class="img-circle">
                    }
                    <span class="hide-menu">@user.getDisplayName</span>
                </a>
                <ul aria-expanded="false" class="collapse">
                    <li><a href="@com.avicenna.security.basic.routes.BasicUserCtrl.editProfile(user.getUsername)"><i class="fa fa-user"></i> My Profile</a></li>
                    <li><a href="@com.avicenna.security.routes.SecCtrl.logout"><i class="fa fa-power-off"></i> Logout</a></li>
                </ul>
            </li>

            <li class="nav-small-cap">--- MENU</li>

            @for(head <- dto.getNavMgr.getLeftSideMenusByUser(user)) {
                <li>
                    <a class="has-arrow waves-effect waves-dark" href="javascript:void(0)" aria-expanded="false">
                        <i class="menu-icon @head.getIconClass"></i>
                        <span class="hide-menu"> @head.getTitle</span>
                    </a>
                    <ul aria-expanded="false" class="collapse">
                        @for(menu <- head.getMenus) {
                            <li data-menu="@menu.getCode" data-url="@menu.getFullPath" class="sidemenu">
                                <a href="@menu.getFullPath">
                                    <i class="menu-icon @menu.getIconClass"></i> @menu.getTitle
                                </a>
                            </li>
                        }
                    </ul>
                </li>
            }

            <li class="hide-menu">

                <hr class="mt-3"/>

                <div class="row">

                    <div class="@dto.getGrid(12) ml-2">
                        <small class="text-muted">Instance Id : </small>
                    </div>

                    <div class="@dto.getGrid(12) ml-2">
                        <small class="text-muted">@dto.getServerInstanceId</small>
                    </div>

                </div>

                <div class="row mt-2">

                    <div class="@dto.getGrid(12) ml-2">
                        <small class="text-muted">Version : </small>
                    </div>

                    <div class="@dto.getGrid(12) ml-2">
                        <small class="text-muted">@dto.getVersion</small>
                    </div>

                </div>

            </li>

        </ul>

    </nav>

</div>